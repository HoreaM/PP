<!DOCTYPE html>
<html lang="">
<head>
    <title>ZooApp - Știați că...?</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link href="css/basic-stylesheet.css" rel="stylesheet">
    <link rel="stylesheet" href="css/stiati-stylesheet.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body class="w3-white">

<div id="backgroundImage"></div>

<div id="logo-container">
    <img class="logo" src="css/menu/images/zooapp.png">
</div>

<button id="behind" onclick="carouselBehind()" class="navigateBehind">
  <img class="arrowImg" src="resources/images/arrowBack.png"</img>
</button>
<button id="ahead" onclick="carouselAhead()" class="navigateAhead">
  <img class="arrowImg" src="resources/images/arrowNext.png"</img>
</button>
<form action="menu.html" id="goToMenu">
    <button type="submit" class="btn btn-default btn-lg login-button logInBtn menuRef">
      <img class="menuImg" src="resources/images/menu.png"></img>
    </button>
</form>
<button id="startAgain" onclick="carouselAhead()" type="submit" class="btn btn-default btn-lg login-button logInBtn startAgain">
  <img class="resetImg" src="resources/images/reset.png"></img>
</button>

<div class="container">
  <img class="animalImage" src="resources/images/zooImages/cow.jpg">
  <h1 class="animalTitle">Văcuța</h1>
  <p class="animalContent">
        • Prietenoasă

        • Dă lapte

        • De dimensiune mare

        • Trăiește pe toate continentele
  </p>
  <button class="soundContainer" onClick="togglePlay()">
    <audio class="audio" src="resources/audio/vaca.mp4"></audio>
    <img class="playImage" src="resources/images/play.png"></img>
  </button>
</div>
<div class="container">
  <img class="animalImage" src="resources/images/zooImages/zebra.jpg">
  <h1 class="animalTitle">Zebra</h1>
  <p class="animalContent">
        • Sălbatică

        • De dimensiune mare

        • Trăiește în turme

        • Trăiește în Africa
  </p>
  <button class="soundContainer" onClick="togglePlay()">
    <audio class="audio" src="resources/audio/zebra.mp4"></audio>
    <img class="playImage" src="resources/images/play.png"></img>
  </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/elephant.jpg">
    <h1 class="animalTitle">Elefantul</h1>
    <p class="animalContent">
        • Poate fi și prietenos,
          dar și foarte periculos

        • De dimensiune foarte mare

        • Trăiește în turme

        • Poate fi găsit în Africa și Asia
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/elefant.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/panda.jpg">
    <h1 class="animalTitle">Panda</h1>
    <p class="animalContent">
        • Prietenos

        • De dimensiune medie

        • Se hrănește cu bambus

        • Trăiește în Asia
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/panda.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/koala.jpg">
    <h1 class="animalTitle">Koala</h1>
    <p class="animalContent">
        • Nu este periculos

        • De dimensiune mica

        • Se hrănește cu eucalipt

        • Trăiește în Australia
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/koala.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/monkey.jpg">
    <h1 class="animalTitle">Maimuța</h1>
    <p class="animalContent">
        • Este ierbivoră

        • De dimensiune mică sau medie

        • Trăiește în Asia, Africa și
          America de Sud

        • Poate fi și prietenoasă, dar și periculoasă

        • Poate fi foarte deșteaptă
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/monkey.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/turtle.jpg">
    <h1 class="animalTitle">Broasca Țestoasă</h1>
    <p class="animalContent">
        • Lentă și fricoasă,
          dar nu este periculoasă

        • De dimensiune mică sau medie

        • Poate fi găsită pe toate continentele

        • Este ierbivoră
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/turtle.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/lemur.png">
    <h1 class="animalTitle">Lemurul</h1>
    <p class="animalContent">
        • Poate fi și prietenos, dar și periculos,
          când este pus în primejdie

        • De dimensiune mică sau medie

        • Trăiește în Madagascar, Africa

        • Este ierbivor
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/lemur.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>
<div class="container">
    <img class="animalImage" src="resources/images/zooImages/hipo.jpg">
    <h1 class="animalTitle">Hipopotamul</h1>
    <p class="animalContent">
        • Poate fi periculos

        • De dimensiune mare

        • Trăiește în Asia și Africa

        • Este ierbivor

        • Petrece foarte mult timp în apă
    </p>
    <button class="soundContainer" onClick="togglePlay()">
      <audio class="audio" src="resources/audio/hipo.mp4"></audio>
      <img class="playImage" src="resources/images/play.png"></img>
    </button>
</div>

<script type="text/javascript">
  var timer;
  var percent = 0;
  var audios = document.getElementsByClassName("audio");
  var playImgs = document.getElementsByClassName("playImage");

  var myIndex = 0;
  carouselAhead();

  for (i=0; i < audios.length; i++) {
    audios[i].oneneded = playHasEnded();
  }

  function carouselBehind() {
    var i;
    var x = document.getElementsByClassName("container");
    for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
    }

    myIndex--;

    if (myIndex == 0) {
        myIndex = x.length - 1;
    }

    var behindButton = document.getElementById("behind");
    var aheadButton = document.getElementById("ahead");
    var goToMenuButton = document.getElementById("goToMenu");
    var startAgainButton = document.getElementById("startAgain");

    if (myIndex == 1) {
      behindButton.style.display = "none";
    } else {
      behindButton.style.display = "block";
    }

    if (myIndex != x.length) {
      aheadButton.style.display = "block";
      goToMenuButton.style.display = "none";
      startAgainButton.style.display = "none";
    }

    x[myIndex - 1].style.display = "block";
  }

  function carouselAhead() {
      var i;
      var x = document.getElementsByClassName("container");
      for (i = 0; i < x.length; i++) {
          x[i].style.display = "none";
      }

      myIndex++;

      if (myIndex > x.length) {
          myIndex = 1;
      }

      var behindButton = document.getElementById("behind");
      var aheadButton = document.getElementById("ahead");
      var goToMenuButton = document.getElementById("goToMenu");
      var startAgainButton = document.getElementById("startAgain");

      if (myIndex == x.length) {
        goToMenuButton.style.display = "block";
        startAgainButton.style.display = "block";
        aheadButton.style.display = "none";
        behindButton.style.display = "block";
      } else if (myIndex == 1) {
        goToMenuButton.style.display = "none";
        startAgainButton.style.display = "none";
        aheadButton.style.display = "block";
        behindButton.style.display = "none";
      } else {
        goToMenuButton.style.display = "none";
        startAgainButton.style.display = "none";
        aheadButton.style.display = "block";
        behindButton.style.display = "block";
      }

      x[myIndex - 1].style.display = "block";
  }

  audio.addEventListener("playing", function(_event) {
    var duration = _event.target.duration;
    advance(duration, audio);
  });

  audio.addEventListener("pause", function(_event) {
    clearTimeout(timer);
  });

  var startTimer = function(duration, element){
    if(percent < 100) {
      timer = setTimeout(function (){advance(duration, element)}, 100);
    }
  }

  function togglePlay (e) {
    e = e || window.event;
    var btn = e.target;

    if (!audios[myIndex-1].paused) {
      btn.classList.remove('active');
      audios[myIndex-1].pause();
      playImgs[myIndex-1].src = "resources/images/play.png";
      isPlaying = false;

    } else {
      btn.classList.add('active');
      audios[myIndex-1].play();
      playImgs[myIndex-1].src = "resources/images/pause.png";
      isPlaying = true;
    }

    function pausePlay() {
      e = e || window.event;
      var btn = e.target;

      if (!audios[myIndex-1].paused) {
        btn.classList.remove('active');
        audios[myIndex-1].pause();
        playImgs[myIndex-1].src = "resources/images/play.png";
        isPlaying = false;
      }
    }

    function startPlay() {
      e = e || window.event;
      var btn = e.target;

      if (audios[myIndex-1].paused) {
        btn.classList.add('active');
        audios[myIndex-1].play();
        playImgs[myIndex-1].src = "resources/images/pause.png";
        isPlaying = true;
      }
    }

    function playHasEnded() {
      playImgs[myIndex-1].src = "resources/images/play.png";
    }
  }

</script>


</body>
</html>
